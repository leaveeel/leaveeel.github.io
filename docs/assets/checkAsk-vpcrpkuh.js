import{o as p,N as b,$ as M,U as $,K as A}from"./zc-ui-DXvjlXOl.js";import{d as J,D as O,r as S,o as T,j as f,f as m,h as r,m as U,g as v,u as s,C as z,F as _,s as N,n as D,q as h,v as E,k as V}from"./vendor--8JwYIzc.js";import{_ as F}from"./plugin-vueexport-helper-DlAUqK2U.js";const K={key:0,class:"check-ask"},L={class:"check"},j=["onClick"],R=["onClick"],G=J({__name:"checkAsk",setup(H){const l=O({field1:50,field2:7}),g=a=>{l[a]=Math.floor(l[a])},q=()=>{A({message:"Submit will reset the selection with total "+l.field1+", column "+l.field2+". Continue to submit?",confirmText:"Submit"}).then(()=>{k.value=l.field2,localStorage.removeItem("checkSequence"),i.value=[],localStorage.setItem("formModel",l.field1+","+l.field2),y(l.field1,l.field2)})},y=(a,e)=>{const t=Math.ceil(a/e),o=Array.from({length:t},(u,n)=>Array.from({length:e},(c,B)=>{if(n*e+B<a)return[!1,!1]}).filter(c=>c));i.value.length&&i.value.forEach(([u,n,c])=>{o[u]&&o[u][n]&&(o[u][n][c]=!0)}),d.value=o},k=S(l.field2),i=S([]);T(()=>{const a=localStorage.getItem("formModel"),e=localStorage.getItem("checkSequence");if(a){const[t,o]=a.split(",").map(Number);l.field1=t,l.field2=o,k.value=o,e&&(i.value=JSON.parse(e))}y(l.field1,l.field2)});const d=S(),C=(a,e,t)=>{console.log(i.value),JSON.stringify(i.value.slice(-1)[0])===JSON.stringify([a,e,t])?(d.value[a][e][t]=!1,i.value.pop()):(d.value[a][e][t]=!0,i.value.push([a,e,t])),localStorage.setItem("checkSequence",JSON.stringify(i.value))};return(a,e)=>(m(),f(_,null,[r(s($),{class:"setting",model:s(l),inline:"",onSubmit:q},{default:v(()=>[r(s(p),{label:"Total"},{default:v(()=>[r(s(b),{modelValue:s(l).field1,"onUpdate:modelValue":e[0]||(e[0]=t=>s(l).field1=t),type:"number",onBlur:e[1]||(e[1]=t=>g("field1"))},null,8,["modelValue"])]),_:1}),r(s(p),{label:"Column"},{default:v(()=>[r(s(b),{modelValue:s(l).field2,"onUpdate:modelValue":e[2]||(e[2]=t=>s(l).field2=t),type:"number",onBlur:e[3]||(e[3]=t=>g("field2"))},null,8,["modelValue"])]),_:1}),r(s(p),null,{default:v(()=>[r(s(M),{type:"primary",htmlType:"submit"},{default:v(()=>[...e[4]||(e[4]=[z("Reset",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),s(d)?(m(),f("div",K,[(m(!0),f(_,null,N(s(d),(t,o)=>(m(),f("div",{class:"ask-row",key:o,style:D({"--column-count":s(k)})},[(m(!0),f(_,null,N(t,(u,n)=>(m(),f("div",{class:"ask-item",key:n},[h("span",null,E(o*s(k)+n+1),1),h("div",L,[h("div",{class:V(["check-item",{check:u[0]}]),onClick:c=>C(o,n,0)},null,10,j),h("div",{class:V(["check-item",{check:u[1]}]),onClick:c=>C(o,n,1)},null,10,R)])]))),128))],4))),128))])):U("",!0)],64))}}),Y=F(G,[["__scopeId","data-v-59ff4c54"]]);export{Y as default};
