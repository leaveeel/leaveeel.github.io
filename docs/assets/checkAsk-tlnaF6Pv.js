import{o as p,N as b,$ as B,U as $,K as A}from"./zc-ui-IZunXfhq.js";import{d as J,D as O,r as S,o as T,j as m,f as d,h as c,m as U,g as v,u as s,C as z,F as _,s as N,n as D,q as h,v as E,k as V}from"./vendor-C4hzVY2f.js";import{_ as F}from"./plugin-vueexport-helper-DlAUqK2U.js";const K={key:0,class:"check-ask"},L={class:"check"},j=["onClick"],R=["onClick"],G=J({__name:"checkAsk",setup(H){const l=O({field1:50,field2:7}),g=a=>{l[a]=Math.floor(l[a])},q=()=>{A({message:"Submit will reset the selection with total "+l.field1+", column "+l.field2+". Continue to submit?",confirmText:"Submit"}).then(()=>{k.value=l.field2,localStorage.removeItem("checkSequence"),n.value=[],localStorage.setItem("formModel",l.field1+","+l.field2),y(l.field1,l.field2)})},y=(a,e)=>{const t=Math.ceil(a/e),o=Array.from({length:t},(u,i)=>Array.from({length:e},(f,M)=>{if(i*e+M<a)return[!1,!1]}).filter(f=>f));n.value.length&&n.value.forEach(([u,i,f])=>{o[u]&&o[u][i]&&(o[u][i][f]=!0)}),r.value=o},k=S(l.field2),n=S([]);T(()=>{const a=localStorage.getItem("formModel"),e=localStorage.getItem("checkSequence");if(a){const[t,o]=a.split(",").map(Number);l.field1=t,l.field2=o,k.value=o,e&&(n.value=JSON.parse(e))}else localStorage.removeItem("checkSequence"),localStorage.setItem("formModel",l.field1+","+l.field2);y(l.field1,l.field2)});const r=S(),C=(a,e,t)=>{JSON.stringify(n.value.slice(-1)[0])===JSON.stringify([a,e,t])?(r.value[a][e][t]=!1,n.value.pop()):r.value[a][e][t]||(r.value[a][e][t]=!0,n.value.push([a,e,t])),localStorage.setItem("checkSequence",JSON.stringify(n.value))};return(a,e)=>(d(),m(_,null,[c(s($),{class:"setting",model:s(l),inline:"",onSubmit:q},{default:v(()=>[c(s(p),{label:"Total"},{default:v(()=>[c(s(b),{modelValue:s(l).field1,"onUpdate:modelValue":e[0]||(e[0]=t=>s(l).field1=t),type:"number",onBlur:e[1]||(e[1]=t=>g("field1"))},null,8,["modelValue"])]),_:1}),c(s(p),{label:"Column"},{default:v(()=>[c(s(b),{modelValue:s(l).field2,"onUpdate:modelValue":e[2]||(e[2]=t=>s(l).field2=t),type:"number",onBlur:e[3]||(e[3]=t=>g("field2"))},null,8,["modelValue"])]),_:1}),c(s(p),null,{default:v(()=>[c(s(B),{type:"primary",htmlType:"submit"},{default:v(()=>[...e[4]||(e[4]=[z("Reset",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),s(r)?(d(),m("div",K,[(d(!0),m(_,null,N(s(r),(t,o)=>(d(),m("div",{class:"ask-row",key:o,style:D({"--column-count":s(k)})},[(d(!0),m(_,null,N(t,(u,i)=>(d(),m("div",{class:"ask-item",key:i},[h("span",null,E(o*s(k)+i+1),1),h("div",L,[h("div",{class:V(["check-item",{check:u[0]}]),onClick:f=>C(o,i,0)},null,10,j),h("div",{class:V(["check-item",{check:u[1]}]),onClick:f=>C(o,i,1)},null,10,R)])]))),128))],4))),128))])):U("",!0)],64))}}),Y=F(G,[["__scopeId","data-v-c87149f1"]]);export{Y as default};
